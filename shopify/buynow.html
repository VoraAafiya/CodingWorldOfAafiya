<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Aafiya's Coding World follow for content (@codelaza_1665)-->
    <title>Purchase Now</title>
    <script src="jquery-3.7.1.min.js.js"></script>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
   <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <style>
        body{
            background-color: #a1b8e3;
            color: black;
            font-family:cursive;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark" id="navbar">
        <a class="navbar-brand" href="#"><img style="height: 70px;" src="shopify_logo-removebg-preview.png" alt="" class="navbar_logo"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#conteudoNavbarSuportado" aria-controls="conteudoNavbarSuportado" aria-expanded="false" aria-label="Alterna navegaÃ§Ã£o">
          <span class="navbar-toggler-icon"></span>
        </button>
          
        <div class="collapse navbar-collapse" id="conteudoNavbarSuportado">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">Home</a>
            </li>
  
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">PCs</a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#computadores">Computers</a>
                <a class="dropdown-item" href="#notebooks">Notebooks</a>
              </div>
  
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                  </a>
                  
  
                  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#monitores">Monitores</a>
                    <a class="dropdown-item" href="#teclados">Telephone</a>
                    <a class="dropdown-item" href="#mouse">Mouses</a>
                    <a class="dropdown-item" href="#headsets">Headsets</a>
                  </div>
                  
                  <li class="nav-item active">
                    <a class="nav-link" href="mainlogin_.html">register</a>
                  </li>

                    <li class="nav-item">
                      <a class="nav-link" href="#shoppingcart" data-toggle="modal" data-target="#exampleModal">ðŸ›’</a>
                    </li>
                 </li>
          </ul>
  
          <form class="form-inline my-2 my-lg-0">
            <input type="text"class="form-control mr-sm-2"  name="search" id="search" placeholder="Search Here">
            <button class="btn btn-outline-light my-2 my-sm-0" id="btnsearch">Search</button>
          </form>
        </div>
      </nav>
      <div class="container mt-5">
        <form id="purchaseForm">
            <div class="form-group">
                <label for="cardNumber">Card Number:</label>
                <input type="text" class="form-control" id="cardNumber" placeholder="Enter card number" required>
            </div>
            <div class="form-group">
                <label for="ccv">CCV:</label>
                <input type="text" class="form-control" id="cvv" placeholder="Enter CVV" required>
            </div>
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" class="form-control" id="name" placeholder="Enter your name" required>
            </div>
            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" class="form-control" id="address" placeholder="Enter your address">
                        </div>
            <div class="form-group">
                <label for="mobileNumber">Mobile Number:</label>
                <input type="text" class="form-control" id="mobileNumber" placeholder="Enter your mobile number">
            </div>
            <button type="submit" onclick="check()" class="btn btn-primary">Purchase Now</button>
        </form>
    </div>
    <script>/*
function check(){
        // Retrieve product details from URL query parameters
                var urlParams = new URLSearchParams(window.location.search);
                var productId = urlParams.get('id');

                    // Find the product with the matching ID
                    $.getJSON('product.json', function(data) {
                        // Find the product with the matching ID
                        var product = null;
                        for (var i = 0; i < data.length; i++) {
                            if (data[i].id === productId) {
                                product = data[i];
                                break;
                            }}
                            debugger;
                    if (product) {
                        // Extract product name and price
                        var productName = product.Name;
                        var productPrice = product.price;
            
                        // Handle form submission
                        $('form').submit(function(event) {
                            // Prevent the default form submission behavior
                            event.preventDefault();
            
                            // Process payment here...
            
                            // Display an alert with product details
                            alert('Product Ordered Successfully!\n\nProduct Name: ' + productName + '\nPrice: $' + productPrice);
            
            
                        });
                    } else {
                        alert('Product not found!');
                    }
                });*/
            
        $(document).ready(function(){
            $('#purchaseForm').submit(function(e) {
                e.preventDefault();
                
                // Perform validation here before submitting the form
                let cardNumber = $('#cardNumber').val();
                let cvv = $('#cvv').val();
                let name = $('#name').val();
                let address = $('#address').val();
                let mobileNumber = $('#mobileNumber').val();
                var nameRegex = /^[a-zA-Z\s]+$/;
        
                if (!nameRegex.test(name)) {
                    alert('Please enter a valid name with alphabetic characters and spaces only.');
                    return;
                }

                if (isNaN(cardNumber) || cardNumber.length !== 16) {
                    alert("Please enter a valid 16-digit card number.");
                    return;
                }
                
                if (isNaN(cvv) || cvv.length !== 3) {
                    alert("Please enter a valid 3-digit CVV number.");
                    return;
                }

                var mobRegex = /^\d{10,}$/;
        
                if (!mobRegex.test(mobileNumber)) {
                    alert('Please enter a valid 10-digit mobile number.');
                    return;
                }
              /*  $.getJSON('product.json', function(data) {
                    var productName = data[0].Name; // Assuming the first product in the array
                    var productPrice = data[0].price; // Assuming the price of the first product
        
                    // Display an alert box with the product name and price
                    alert('Product Ordered Successfully!\n\nProduct Name: ' + productName + '\nPrice: $' + productPrice);
                });*/

                $('form').submit(function(){
                    alert("Order Booked Succesfully")
                    window.location.href = 'index.html';
                });

            });
        });
        

           /* $('form').submit(function(event) {
                // Prevent the default form submission behavior
                event.preventDefault();
        
                // Get the data from the form
                var formData = $(this).serializeArray();
        
                // Assuming you have a hidden input field in your form to store the product ID
                var productId = formData.find(item => item.Name === 'id').value;
        
                // Fetch product details from product.json using AJAX
                $.getJSON('product.json', function(data) {
                    // Find the product with the matching ID
                    var product = data.find(item => item.id === productId);
        
                    if (product) {
                        // Extract product name and price
                        var productName = product.Name;
                        var productPrice = product.price;
        
                        // Display an alert with product details
                        alert('Product Ordered Successfully!\n\nProduct Name: ' + productName + '\nPrice: $' + productPrice);
        
                        // You can perform further actions here, such as submitting the form or redirecting to a thank you page
                        // $('form').submit(); // Submit the form
                        // window.location.href = 'thankyou.html'; // Redirect to a thank you page
                    } else {
                        alert('Product not found!');
                    }
                });*/
             
    </script>    
</body>
</html>